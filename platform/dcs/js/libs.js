$(function(){$("table.list tbody tr:not(.head)").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),LIBS.bindFocus($(".input_panel input:text,.input_panel input:password,input.input")),$(window).ajaxSend(function(t,r,e){if(e.loading){var n="";"string"==typeof e.loading&&(n=e.loading),r.loadingOverlay=$("<div>").addClass("loading_overlay").append($("<div>").append($("<span>").text(n))).appendTo("body")}}),$(window).ajaxComplete(function(t,r,e){e.loading&&r.loadingOverlay&&r.loadingOverlay.remove()})}),function(t){t.fn.delayClass=function(t,r){var e=this;clearTimeout(this.data("_dc_timer_"+t)),this.addClass(t),this.data("_dc_timer_"+t,setTimeout(function(){e.removeClass(t)},r))},t.fn.vals=function(r){var e=[];return t.isFunction(r)?this.each(function(){var n=t(this).val();n=r(n,this),e.push(n)}):this.each(function(){e.push(t(this).val())}),e},t.fn.formData=function(r,e){var n={};return t("input,select,textarea",this).each(function(){var i=t(this),o=i.prop("tagName").toLowerCase(),a=i.prop("type").toLowerCase();if("input"!=o||"radio"!=a&&"checkbox"!=a||i.prop("checked")){var u=i.prop("name");if(u||(u=i.prop("id")),u){var s=i.val();if(s||!r){var f=n;if(!e){for(var l=u.split(".");l.length>1;)u=l.shift(),null==f[u]&&(f[u]={}),f=f[u];u=l.shift()}if(/\[\]$/.test(u)){u=u.substr(0,u.length-2);var c=f[u];c||(c=[],f[u]=c),c.push(s)}else f[u]=s}}}}),n},t.fn.onlyNumber=function(){t(this).keypress(function(t){var r=t.which;return 0==r||13==r||8==r||r>=48&&r<=57})}}($),String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(r,e){return t[e]})},String.prototype.padleft=function(t,r){if(this.length<t){r||(r=" ");for(var e="",n=0,i=t-this.length;n<i;n++)e+=r;return e+this}return this},Array.prototype.indexOf=function(t){for(var r=0;r<this.length;r++)if(this[r]==t)return r;return-1},Date.prototype.format=function(t){var r={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in r)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[e]:("00"+r[e]).substr((""+r[e]).length)));return t};var LIBS=function(){function t(t,r,e){if(t||(t={}),r)if($.isArray(e))for(var n=0;n<e.length;n++){var i=e[n],o=r[i],a=t[i];void 0!==o&&o!==a&&(t[i]=o)}else for(var i in r){var o=r[i],a=t[i];void 0!==o&&o!==a&&(t[i]=o)}return t}return{NUMBERS:["零","一","二","三","四","五","六","七","八","九","十"],clone:t,money:function(t,r,e){void 0!==r&&(t=this.round(t,r,e)),t+="";for(var n=t.split(".",2),i=n[0],o=/(\d+)(\d{3})/;o.test(i);)i=i.replace(o,"$1,$2");return n.length>1&&n[1].length>0&&(i+="."+n[1]),i},split:function(t,r,e){var n=t.indexOf(r);if(-1==n)return[t];var i=[t.substr(0,n)];for(n+=r.length;n<t.length;){var o=t.indexOf(r,n);(-1==o||i.length+1>=e)&&(o=t.length),i.push(t.substring(n,o)),n=o+r.length}return i},round:function(t,r,e){if(null==t)return null;r||(r=0);var n=Math.pow(10,r);if(t=Math.round(t*n)/n,r>0&&e){t+="";var i=t.indexOf(".");-1==i&&(i=t.length,t+=".");for(var o=0,a=r-(t.length-i-1);o<a;o++)t+="0"}return t},combination:function(t,r){if(t<=r)return 1;if(t==r+1)return t;for(var e=t,n=t-1;n>t-r;n--)e*=n;for(var n=r;n>1;n--)e/=n;return e},replaceArray:function(t,r){if(r)for(var e=[],n=0;n<t.length;n++){var i=r[t[n]];null==i?e.push(t[n]):e.push(i)}return e},comboArray:function(t,r,e){if(null==e&&(e=t.length),!(r<1||e<1||r>e)){for(var n=[],i=[],o=0;o<r;o++)i[o]=o;for(;;){for(var a=[],o=0;o<r;o++)a[o]=t[i[o]];a.count=a[0].count;for(var u=1,s=a.length;u<s;u++)a.count*=a[u].count;n[n.length]=a;for(var o=r-1,f=o;o>=0;o--){var l=i[o]+1;if(!(l>=e-f+o)){i[o]=l;for(var c=o;c<f;c++)i[c+1]=i[c]+1;break}if(0==o){n.count=n[0].count;for(var u=1,s=n.length;u<s;u++)n.count+=n[u].count;return n}}}}},comboList:function(t){for(var r=[],e=[],n=t.length,i=0;i<n;i++)e[i]=0;for(;;){for(var o=[],i=0;i<n;i++)o[i]=t[i][e[i]];r.push(o);for(var i=0;i<n&&(e[i]+=1,!(e[i]<t[i].length));i++){if(i==n-1)return r;e[i]=0}}},timeToString:function(t){if(t<=0)return"00:00";var r=Math.floor(t/1e3),e=Math.floor(r/60);return r-=60*e,e<10&&(e="0"+e),r<10&&(r="0"+r),e+":"+r},ajaxDefaultTimeout:1e4,ajax:function(r,e,n){r&&!r.timeout&&(r.timeout=this.ajaxDefaultTimeout),e||(e=2),n||(n=1e3);var i={},o=0,a=r.error,u=r.complete;return r.error=function(u,s){if(clearTimeout(i.errTimer),("timeout"==s||"error"==s&&503==u.status)&&((o+=1)<=e||-1==e))return delay=o*o*n,i.errTimer=setTimeout(function(){i=t(i,$.ajax(r))},delay),void(this.retryError=!0);$.isFunction(a)&&a.apply(this,arguments)},r.complete=function(){!this.retryError&&$.isFunction(u)&&u.apply(this,arguments)},i=$.ajax(r)},get:function(t,r,e,n,i,o){return jQuery.isFunction(r)&&(o=i,i=n,n=e,e=r,r=void 0),"string"==typeof n||$.isArray(n)||(o=i,i=n,n=void 0),this.ajax({url:t,type:"get",dataType:n,data:r,success:e},i,o)},colorMoney:function(t,r,e){(r||e)&&$(t).each(function(){var t=$(this),n=t.text();t.removeClass(r).removeClass(e),n&&"0"!=n&&("-"==n[0]&&r?t.addClass(r):e&&t.addClass(e))})},url:function(t,r){if(!t)return location.href;void 0===r&&(r=t,t=location.pathname);var e=t.indexOf("?"),n=location.search;e>=0&&(n=t.substr(e),t=t.substring(0,e));var i=t+"?";if(n.length>1){n=n.substr(1).split("&");for(var o=0;o<n.length;o++)if(0!=n[o].length){var a=n[o].split("=",2);a[1]&&void 0===r[a[0]]&&(r[a[0]]=decodeURIComponent(a[1]))}}for(var u in r)r[u]&&(i+=u+"="+encodeURIComponent(r[u])+"&");return i=i.substr(0,i.length-1)},getUrlParam:function(t,r){if(r||(r=location.search),r.length>1){r=r.substr(1).split("&");for(var e=0;e<r.length;e++)if(0!=r[e].length){var n=r[e].split("=",2);if(n[1]&&n[0]==t)return decodeURIComponent(n[1])}}},equals:function(t,r){for(var e in t)if(t[e]!=r[e])return!1;return!0},bindFocus:function(t){return t.focusin(function(){$(this).addClass("input_focus")}).focusout(function(){$(this).removeClass("input_focus")}),t},toMap:function(t,r,e){if(null==t)return{};r||(r=";"),e||(e="="),t=t.split(r);for(var n={},i=0;i<t.length-1;i++){var o=t[i].split(e,2);2==o.length&&(n[o[0]]=o[1])}return n},cookie:function(t,r,e){if(void 0===r){var n=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),o=0;o<i.length;o++){var a=jQuery.trim(i[o]);if(a.substring(0,t.length+1)==t+"="){n=decodeURIComponent(a.substring(t.length+1));break}}return n}e=e||{},null===r&&(r="",e.expires=-1);var u="";if(e.expires&&("number"==typeof e.expires||e.expires.toUTCString)){var s;"number"==typeof e.expires?(s=new Date,s.setTime(s.getTime()+24*e.expires*60*60*1e3)):s=e.expires,u="; expires="+s.toUTCString()}var f=e.path?"; path="+e.path:"",l=e.domain?"; domain="+e.domain:"",c=e.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(r),u,f,l,c].join("")}}}();